<div class="programador-container">
  <!-- Header personalizado -->
  <app-programador-header
    [currentView]="currentView"
    [currentDateDisplay]="currentDateDisplay"
    (previous)="goToPrevious()"
    (next)="goToNext()"
    (today)="goToToday()"
    (viewChange)="changeView($event)"
    (newPost)="openNewPostModal()">
  </app-programador-header>

  <!-- Calendario -->
  <div class="calendar-wrapper">
    <div *ngIf="loading" class="loading-overlay">
      <div class="spinner"></div>
      <p>Cargando publicaciones...</p>
    </div>

    <full-calendar 
      #calendar
      [options]="calendarOptions">
    </full-calendar>
  </div>

  <!-- Modal para crear plan de publicación -->
  <app-modal
    title="Crear Plan de Publicación"
    [show]="showCreatePlanModal"
    size="large"
    (close)="closeCreatePlanModal()">
    <app-create-post-plan-form
      [initialDate]="selectedDate"
      (success)="onPlanCreated()"
      (cancel)="closeCreatePlanModal()">
    </app-create-post-plan-form>
  </app-modal>

  <!-- Modal para ver detalles del plan -->
  <app-modal
    title="Detalles del Plan de Publicación"
    [show]="showPlanDetailsModal"
    size="large"
    (close)="closePlanDetailsModal()">
    <app-post-plan-details
      *ngIf="selectedPlanId"
      [planId]="selectedPlanId">
    </app-post-plan-details>
  </app-modal>
</div>
